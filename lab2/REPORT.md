#№ Отчет по лабораторной работе №2
## по курсу "Логическое программирование"

## Решение логических задач

### студент: Медведев Д.А.

## Результат проверки

| Преподаватель     | Дата         |  Оценка       |
|-------------------|--------------|---------------|
| Сошников Д.В. |              |               |
| Левинская М.А.|      з       |     26.04     |

> *Комментарии проверяющих (обратите внимание, что более подробные комментарии возможны непосредственно в репозитории по тексту программы)*


## Введение

Каждый человек хотя бы один раз в жизни сталкивался с логическими задачами. Эти задачи чаще всего не требуют от человека каких-либо специальных знаний.
Они содержат в себе некоторые правила, факты, последовательность действий, складывая которые человек получает ответ для этой задачи. Всё это очень сильно
напоминает декларативный язык программирования Prolog, который основывается на фактах и предикатах, поэтому на нём легко решать логические задачи.

Также существуют различные методы для решения логических задач: метод рассуждения, метод таблиц, метод блок-схем и другие. Для людей привычнее решать
такие задачи методом рассуждения, так как он вытекает из простой логики и связей. В Prolog методами решения логических задач являются метод генерации 
и проверки, метод подробного описания всех фактов и другие.

## Задание

12) Три подруги вышли в белом, зеленом и синем платье и туфлях. Известно, что только у Ани цвет платья и туфель мог совпадать. Ни туфли, ни платье Вали 
не были белыми. Наташа была в зеленых туфлях и ни на одной девушке не было сочетания зеленого и белого?

## Принцип решения

Принцип решения заключается в переборе всех возможных вариантов, используя условия задачи для выбора нужного единственного верного варианта.

Изначально у нас есть 3 цвета.

```prolog
colour('green').
colour('blue').
colour('white').
```

Далее я написал вспомогательные предикаты для решения залачи.

```prolog
different_shoes(Ann, Natasha, Valya) :- Natasha = 'green', colour(Valya), Valya \= 'white', Valya \= Natasha, colour(Ann), Ann \= Natasha, Ann \= Valya.
different_dresses(Ann, Natasha, Valya) :- colour(Valya), Valya \= 'white', colour(Ann), Ann \= Valya, colour(Natasha), Natasha \= Ann, Natasha \= Valya.
same_colour(Colour, Colour):- colour(Colour).
green_plus_white(Colour, Another_colour):- (same_colour(Colour, 'green'), same_colour(Another_colour, 'white')) ;
(same_colour(Another_colour, 'green'), same_colour(Colour, 'white')).
```

Предикат same_colour определяет одинаковые цвета. Предикат green_plus_white служит для определения сочетания зеленого и белого. Это нужно для выполнения 
условия задачи, и будет применяться в предикате solve. Предикаты different_shoes и different_dresses определяют цвета туфель и платьев девочек, 
сразу отсекая варианты, не подходящие условию задачи, что является оптимизацией по сравнению с чистым permute, который в любом случае переберёт все варианты.

Предикат solve представляет собой просто все условия задачи.

```prolog
solve(Ann_shoes, Ann_dress, Natasha_shoes, Natasha_dress, Valya_shoes, Valya_dress):- different_dresses(Ann_dress, Natasha_dress, Valya_dress),
different_shoes(Ann_shoes, Natasha_shoes, Valya_shoes), same_colour(Ann_shoes, Ann_dress), not(same_colour(Natasha_shoes, Natasha_dress)),
not(same_colour(Valya_shoes, Valya_dress)), not(green_plus_white(Ann_shoes, Ann_dress)), not(green_plus_white(Natasha_shoes, Natasha_dress)),
not(green_plus_white(Valya_shoes, Valya_dress)).
```

Пример работы:

```prolog
?- solve(Ann_shoes, Ann_dress, Natasha_shoes, Natasha_dress, Valya_shoes, Valya_dress).
Ann_shoes = Ann_dress, Ann_dress = white,
Natasha_shoes = Valya_dress, Valya_dress = green,
Natasha_dress = Valya_shoes, Valya_shoes = blue ;
false.
```

Решив эту задачу вручную, получаем такой же ответ. Сложность алгоритма в ассимптотике - O(n!) из-за перебора всех вариантов, но все же программа с 
permute переберет большее число вариантов.

## Выводы

Таким образом, я научился решать логические задачи с помощью Prolog. Данная работа окончательно доказала мне, что Prolog является прекрасным 
инструментом для решения логических задач. Это может быть полезно людям для решения логических задач сложности большей или равной средней, так как 
для таких задач нужно выписать условия на листочке, думать, а Prolog может просто перебрать все комбинации и, используя условия задачи, дать ответ. 
Но в любом случае программу можно немного ускорить, используя отсечения.  



